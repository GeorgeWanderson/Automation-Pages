<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login Page</title>
    <link rel="stylesheet" href="/assets/main.css">
</head>
<body class="dark-theme">
    <header>
        <nav>
            <ul class="left-align">
                <li><a href="index.html">Voltar para Home</a></li>
            </ul>
        </nav>
    </header>

    <div class="login-container">
        <form id="loginForm">
            <label for="name">Nome:</label>
            <input type="text" id="name" name="name" required>

            <label for="surname">Sobrenome:</label>
            <input type="text" id="surname" name="surname" required>

            <label for="age">Idade:</label>
            <input type="number" id="age" name="age" min="0" required>

            <label for="email">Email:</label>
            <input type="email" id="email" name="email" required>

            <label for="password">Senha:</label>
            <input type="password" id="password" name="password" required>

            <label for="box">Box:</label>
            <select id="box" name="box" required>
                <option value="" disabled selected>Escolha um número de 1 a 5</option>
                <option value="1">1</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5</option>
            </select>

            <button type="button" onclick="register()">Registrar</button>
        </form>
    </div>

    <script>
        function register() {

            // Obtendo os valores dos campos do formulário
            const name = document.getElementById("name").value;
            const surname = document.getElementById("surname").value;
            const age = document.getElementById("age").value;
            const email = document.getElementById("email").value;
            const password = document.getElementById("password").value;
            const box = document.getElementById("box").value;

            // Validando a idade
            if (!/^[1-9]\d*$/.test(age)) {
                alert("A idade deve ser maior que 0.");
                return;
            }

            // Validando o formato do email
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (!emailRegex.test(email)) {
                alert("Formato de e-mail inválido");
                return;
            }

            // Validando a senha (deve conter pelo menos uma maiúscula e um caractere especial)
            const passwordRegex = /^(?=.*[A-Z])(?=.*[!@#$%^&*])/;
            if (!passwordRegex.test(password)) {
                alert("A senha deve conter pelo menos uma letra maiúscula e um caractere especial.");
                return;
            }

            // Criando um objeto com os dados do usuário
            const userData = {
                name: name,
                surname: surname,
                age: age,
                email: email,
                password: password,
                box: box
            };

            // Convertendo o objeto para uma string JSON
            const jsonData = JSON.stringify(userData);

            // Simulando o armazenamento em um arquivo JSON
            localStorage.setItem("userData", jsonData);

            // Redirecionando para a página de sucesso
            window.location.href = "success.html";
        }
    </script>
</body>
</html>